drop database FinanceiroDB
 
CREATE DATABASE FinanceiroDB;
GO
 
USE FinanceiroDB;
GO
 
 
IF EXISTS (SELECT name FROM sys.database_principals WHERE name = 'usuario')
    DROP USER usuario;
GO
 
 
IF NOT EXISTS (SELECT name FROM sys.server_principals WHERE name = 'usuario')
    DROP LOGIN usuario;
GO
 
CREATE LOGIN usuario WITH PASSWORD = 'senha';
GO
 
CREATE USER usuario FROM LOGIN usuario;
 
EXEC sp_addrolemember 'DB_DATAREADER', 'usuario';
EXEC sp_addrolemember 'DB_DATAWRITER', 'usuario';
IF NOT EXISTS (SELECT name FROM sys.tables WHERE name = 'Lancamentos')
BEGIN
    CREATE TABLE Lancamentos (
        ID INT IDENTITY(1,1) PRIMARY KEY,
        Descricao VARCHAR(255) NOT NULL,
        Valor DECIMAL(10, 2) NOT NULL,
        DataLancamento DATE NOT NULL,
        Tipo VARCHAR(50) NOT NULL CHECK(Tipo IN ('Entrada', 'Sa√≠da'))
    );
END
GO
 
 
SELECT * FROM Lancamentos;
